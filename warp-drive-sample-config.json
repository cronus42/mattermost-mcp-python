{
  "mcpServers": {
    "mattermost": {
      "command": "python",
      "args": [
        "-m",
        "mcp_mattermost"
      ],
      "env": {
        "MATTERMOST_URL": "https://your-mattermost-instance.com",
        "MATTERMOST_TOKEN": "your-bot-token-here",
        "MATTERMOST_TEAM_ID": "your-team-id",
        "MCP_SERVER_HOST": "localhost",
        "MCP_SERVER_PORT": "3000",
        "LOG_LEVEL": "INFO",
        "ENABLE_STREAMING": "true",
        "ENABLE_POLLING": "true"
      },
      "description": "Mattermost MCP server for team communication",
      "disabled": false
    }
  },
  "resources": [
    {
      "uri": "mattermost://new_channel_posts",
      "name": "Channel Posts Stream",
      "description": "Real-time stream of new posts from monitored channels"
    },
    {
      "uri": "mattermost://reactions",
      "name": "Message Reactions",
      "description": "Real-time stream of emoji reactions on posts"
    }
  ],
  "tools": [
    {
      "name": "authenticate",
      "description": "Authenticate with Mattermost using API credentials",
      "parameters": {
        "mattermost_url": { "type": "string", "description": "The Mattermost server URL" },
        "token": { "type": "string", "description": "The Mattermost API token" },
        "team_id": { "type": "string", "description": "Optional team ID", "required": false }
      }
    },
    {
      "name": "get_auth_status",
      "description": "Get current Mattermost authentication status",
      "parameters": {}
    },
    {
      "name": "logout",
      "description": "Clear Mattermost authentication and logout",
      "parameters": {}
    },
    {
      "name": "send_message",
      "description": "Send a message to a Mattermost channel",
      "parameters": {
        "channel_id": { "type": "string", "description": "Channel ID to send message to" },
        "message": { "type": "string", "description": "Message text to send" },
        "root_id": { "type": "string", "description": "Optional root post ID", "required": false }
      }
    },
    {
      "name": "reply_to_thread",
      "description": "Reply to a thread",
      "parameters": {
        "root_post_id": { "type": "string", "description": "Root post ID to reply to" },
        "message": { "type": "string", "description": "Reply text" }
      }
    },
    {
      "name": "get_channel_history",
      "description": "Retrieve message history from a channel",
      "parameters": {
        "channel_id": { "type": "string", "description": "Channel ID to get history from" },
        "per_page": { "type": "integer", "description": "Number of messages per page", "default": 60 }
      }
    },
    {
      "name": "add_reaction",
      "description": "Add a reaction to a message",
      "parameters": {
        "post_id": { "type": "string", "description": "Post ID to react to" },
        "emoji_name": { "type": "string", "description": "Emoji name" }
      }
    }
  ]
}
